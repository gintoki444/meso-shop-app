<ion-header collapse="fade">

  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-button color="secondary" routerLink="/search">
        <ion-icon [src]="iconSearch" class="icon-search"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons class="ion-text-center">
      <ion-img src="../../../../assets/icon/mesoestetic logo.png" class="logo" alt="welcome"></ion-img>
    </ion-buttons>

    <ion-buttons slot="primary">
      <ion-button color="secondary" routerLink="/cart">
        <ion-icon [src]="iconCart" class="icon-search"></ion-icon>
        <ion-badge class="animate__animated animate__fadeInUp" *ngIf="cartItem">{{cartItem}}</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <div class="bg-slider">
    <swiper-container [modules]="swiperModules" [loop]="true" [autoplay]="{delay:5000}" [pagination]="{clickable:true}">
      <!-- <swiper :modules="modules" :autoplay="true" :keyboard="true" :pagination="true" :scrollbar="true" :zoom="true"> -->
      <swiper-slide>
        <img src="assets/imgs/slider/slide-4.png" alt="">
      </swiper-slide>
      <swiper-slide>
        <img src="assets/imgs/slider/slide-2.webp" alt="">
      </swiper-slide>
      <swiper-slide>
        <img src="assets/imgs/slider/slide-3.webp" alt="">
      </swiper-slide>
      <!-- </swiper> -->
    </swiper-container>
  </div>

  <div class="ion-padding">

    <ion-grid [fixed]="true" class="grid-categories">
      <ion-row class="ion-justify-content-center categories ion-text-center" offset-md="2">
        <ion-col size-md="12" size-xs="12" class="categories-list">
          <ion-list-header>
            <ion-label color="dark" style="font-size: 18px;">หมวดหมู่สินค้า</ion-label>
          </ion-list-header>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list ">
          <ion-card [routerLink]="['/','categories','22']">
            <ion-img src="../../../../assets/imgs/category/Melasma.png"></ion-img>
            <ion-card-content>
              <p>Melasma</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list">
          <ion-card [routerLink]="['/','categories','24']">
            <ion-img src="../../../../assets/imgs/category/Brightening.png"></ion-img>
            <ion-card-content>
              <p>Brightening</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list">
          <ion-card [routerLink]="['/','categories','23']">
            <ion-img src="../../../../assets/imgs/category/Anti-Aging.png"></ion-img>
            <ion-card-content>
              <p>Anti-Aging</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list">
          <ion-card [routerLink]="['/','categories','25']">
            <ion-img src="../../../../assets/imgs/category/Acne.png"></ion-img>
            <ion-card-content>
              <p>Acne</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list">
          <ion-card [routerLink]="['/','categories','26']">
            <ion-img src="../../../../assets/imgs/category/Sensitive.png"></ion-img>
            <ion-card-content>
              <p>Sensitive</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <ion-col size-md="2" size-xs="4" class="categories-list">
          <ion-card [routerLink]="['/','categories','27']">
            <ion-img src="../../../../assets/imgs/category/Body.png"></ion-img>
            <ion-card-content>
              <p>Body</p>
            </ion-card-content>
          </ion-card>
        </ion-col>

      </ion-row>
    </ion-grid>

     <!-- Skeletons -->
    <ion-grid [fixed]="true" class="grid-products" *ngIf="!content_loaded">
      <ion-row class="ion-justify-content-center products" offset-md="2">

       
        <ion-col size="12" class="promotion-title">
          <div class="promotion-name">
            <ion-text class="">
              <ion-skeleton-text animated></ion-skeleton-text>
            </ion-text>
          </div>
        </ion-col>

        <ion-col size-ld="3" size-md="4" size-xs="6" class="product-list" *ngFor="let i of [].constructor(4);">

          <ion-card>
            <ion-card-content>
              <ion-thumbnail slot="start" style="width: 100%;height: 150px;">
                <ion-skeleton-text animated></ion-skeleton-text>
              </ion-thumbnail>
              <ion-skeleton-text animated></ion-skeleton-text>
              <ion-skeleton-text animated></ion-skeleton-text>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Promotion  -->
    <ion-grid [fixed]="true" class="grid-products" *ngIf="content_loaded">
      <ion-row class="ion-justify-content-center products" offset-md="2">

        <ion-col size="12" class="promotion-title">
          <div class="promotion-name">
            <ion-text class="">
              <span>Mall F</span>
              <ion-icon [src]="iconLightning" class="i-lightning"></ion-icon>
              <span>ASH SALE</span>
            </ion-text>
          </div>

          <div class="see-all ion-text-end">
            <p collor="tertiary">See all</p>
          </div>
        </ion-col>

        <ion-col size-ld="3" size-md="4" size-xs="6" class="product-list" *ngFor="let product of allProducts">
          <ion-card [routerLink]="['/', 'product', 'detail', product.id]">
            <div class="product-discount" *ngIf="product.on_sale === true">
              <div class="banner-onsale"><span class="txt-ban">ลด</span><span class="onsale"> 24%</span></div>
            </div>
            <ion-img *ngIf="product.images[0]" [src]="product.images[0].src"></ion-img>
            <ion-card-content>
              <p class="product-name">{{product.name}}</p>
              <p class="product-price">{{product.price | number }} ฿</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- New Product  -->
    <ion-grid [fixed]="true" class="grid-products" *ngIf="content_loaded">
      <ion-row class="ion-justify-content-center products" offset-md="2">

        <ion-col size="12" class="promotion-title">
          <div class="promotion-name">
            <ion-text class="">
              <span>New Product</span>
            </ion-text>
          </div>

          <div class="see-all ion-text-end">
            <p collor="tertiary">See all</p>
          </div>
        </ion-col>

        <ion-col size-ld="3" size-md="4" size-xs="6" class="product-list" *ngFor="let product of allProducts">
          <ion-card [routerLink]="['/', 'product', 'detail', product.id]">
            <div class="product-discount" *ngIf="product.on_sale === true">
              <div class="banner-onsale"><span class="txt-ban">ลด</span><span class="onsale"> 24%</span></div>
            </div>
            <ion-img *ngIf="product.images[0]" [src]="product.images[0].src"></ion-img>
            <ion-card-content>
              <p class="product-name">{{product.name}}</p>
              <p class="product-price">{{product.price | number }} ฿</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Product With list -->
    <ion-grid [fixed]="true" class="grid-products" *ngIf="content_loaded">
      <ion-row class="ion-justify-content-center products" offset-md="2">

        <ion-col size="12" class="promotion-title">
          <div class="promotion-name">
            <ion-text class="">
              <span>สินค้าที่คุณสนใจ</span>
            </ion-text>
          </div>

          <div class="see-all ion-text-end">
            <p collor="tertiary">See all</p>
          </div>
        </ion-col>

        <ion-col size-ld="3" size-md="4" size-xs="6" class="product-list" *ngFor="let product of allProducts">
          <ion-card [routerLink]="['/', 'product', 'detail', product.id]">
            <div class="product-discount" *ngIf="product.on_sale === true">
              <div class="banner-onsale"><span class="txt-ban">ลด</span><span class="onsale"> 24%</span></div>
            </div>
            <ion-img *ngIf="product.images[0]" [src]="product.images[0].src"></ion-img>
            <ion-card-content>
              <p class="product-name">{{product.name}}</p>
              <p class="product-price">{{product.price | number }} ฿</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>

</ion-content>

<script>
  // Import Swiper Vue.js components
  import { Swiper, SwiperSlide } from 'swiper/vue';

  // Import Swiper styles
  import 'swiper/css';

  import 'swiper/css/pagination';

  import './style.css';

  // import required modules
  import { Pagination } from 'swiper/modules';

  export default {
    components: {
      Swiper,
      SwiperSlide,
    },
    setup() {
      return {
        pagination: {
          clickable: true,
          renderBullet: function (index, className) {
            return '<span class="' + className + '">' + (index + 1) + '</span>';
          },
        },
        modules: [Pagination],
      };
    },
  };
</script>